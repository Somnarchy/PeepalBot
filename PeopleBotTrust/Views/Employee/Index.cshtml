@model IEnumerable<PeopleBotTrust.Models.EmployeeModel>

@{
    ViewBag.Title = "Employee List";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int sno = 0;
    
}

<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">Employee List</h3>
        <div class="panel-tool"> <a class="btn btn-info btn-xs" href="/employee/create">Create</a></div>
    </div>
    <div class="panel-body">

        <table class="table table-condensed table-bordered table-striped">
            <thead>
                <tr>
                    @*<th>S.No</th>*@
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Department</th>
                    <th>Category</th>
                    <th>Salary</th>
                    <th>Title</th>
                    <th>IsActive</th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                @{
                    decimal totalSalary = 0;
                    var rowClass = "";
                    var classSalary = "";
                    
                    foreach (var employee in Model)
                    {
                        sno = sno + 1;
                        totalSalary = totalSalary + employee.Salary;
                        rowClass = sno % 2 == 0 ? "blue-row" : "";


                        classSalary = (employee.Salary >= 100 ? (employee.Salary >= 200 ? "text-red" : "text-green") : "");
                        <tr class="@(rowClass)">
                            @*<td>
                            @(sno)
                            </td>*@
                             <td>
                                 @(employee.FirstName)
                             </td>
                             <td>
                                 @(employee.LastName)
                             </td>
                             <td>
                                 @(employee.DepartmentName)
                             </td>

                             <td>
                                 @(employee.Category)
                             </td>
                             <td>
                                <span class="@(classSalary)">@(employee.Salary)</span>
                             </td>
                             <td>
                                 @(employee.Title)
                             </td>
                             <td>
                                 @(employee.IsActive)
                             </td>
                             <td>
                             <a href="/Employee/Edit/@employee.ID" title="Edit Record"><i class="glyphicon glyphicon-pencil"></i></a> |
                             <a href="/Employee/Details/@employee.ID" title="View Details"><i class="glyphicon glyphicon-eye-open"></i></a> |
                             <a href="/Employee/Delete/@employee.ID" title="Delete"><i class="glyphicon glyphicon-trash"></i></a>
                            @*@Html.ActionLink("<i class='glyphicon glyphicon-trash'></>", "Delete", new { id = employee.ID }, new { })*@
                             </td>
                        </tr>

                    }
                }
                @*@for (var i = 0; i < Model.Count()-1; i++)
                    {

                        <tr>
                            <td>
                                @(Model.ElementAt(i).Name)
                            </td>
                            <td>
                                @(Model.ElementAt(i).Category)
                            </td>
                            <td>
                                @(Model.ElementAt(i).Salary)
                            </td>
                            <td>
                                @(Model.ElementAt(i).Title)
                            </td>
                            <td>
                                @(Model.ElementAt(i).isActive)
                            </td>
                            <td>
                                @Html.ActionLink("Edit", "Edit", new { id = Model.ElementAt(i).ID }) |
                                @Html.ActionLink("Details", "Details", new { id = Model.ElementAt(i).ID }) |
                                @Html.ActionLink("Delete", "Delete", new { id = Model.ElementAt(i).ID })
                            </td>
                        </tr>
                    }*@
            </tbody>
            <tfoot>
                <tr>
                    <td></td>
                    <td></td>
                    <td>Total</td>
                    <td>
                        @totalSalary
                        @*@Model.Sum(i => i.Salary)*@
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tfoot>
        </table>

    </div>
</div>
<style>
  
    /*table {
                border-collapse: collapse;
                width: 100%;
                border: 2px solid black;
            }

            th {
                text-align: left;
                padding: 8px;
                min-height: 300px;

            }

            td {
                text-align: left;
                padding: 8px;
                border-bottom: 1px solid black;

            }

            tr:nth-child(even) {
                background-color: #00fff8 !important
            }*/
    .text-green {
        color: forestgreen;
        font-weight: bold;
    }

    .text-red {
        color: red;
        font-weight: bold;
    }

    .blue-row {
        background-color: #72c2a2 !important;
    }
</style>